analysis.py

import pandas as pd
import matplotlib.pyplot as plt

url = "https://data.cityofnewyork.us/resource/bqiq-cu78.csv?$limit=1000000"
df = pd.read_csv(url)

# Quick check
print("Data shape:", df.shape)
print(df.head())

# Clean data
df = df.dropna(subset=['Borough', 'Bias Motivation'])

# Top 10 bias motivations
bias_counts = df['Bias Motivation'].value_counts().head(10)
bias_counts.plot(kind='bar', title='Top 10 Bias Motivations in NYC Hate Crimes')
plt.ylabel('Number of Incidents')
plt.tight_layout()
plt.savefig('top_bias_motivations.png')
plt.show()
